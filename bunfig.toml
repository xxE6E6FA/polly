# Environment handling
# Note: NODE_ENV is set per-script in package.json to avoid conflicts during testing
[env]
load = [".env.local", ".env"]

# JSX configuration
jsx = "react"
jsxImportSource = "react"

# Package manager optimizations
[install]
frozenLockfile = false
saveTextLockfile = true
minimumReleaseAge = 86400

[test]
# Preload runs before any test files; keep it lightweight and self-healing.
preload = ["./test/global-mocks.ts", "./test/setup-bun.ts"]

# Randomize spec execution order to ensure tests are independent.
randomize = true

# Reasonable default; individual tests can override with `test.setTimeout`.
timeout = 30000

# Look for tests in typical places
root = ["src", "test", "tests"]

[serve.static]
plugins = ["bun-plugin-tailwind"]
